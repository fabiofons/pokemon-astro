---
import type { PokemonInfo } from '../../interfaces/pokemon-info.response'
interface Props {
  name: string;
  url: string;
}

const {name, url} = Astro.props;
//Getting image from ID
// const pokemonId = url.split('/').at(-2);
// const imageSrc = `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/${pokemonId}.png`

//Getting image from fetch to pokemon details
const resp = await fetch(url);
const data = await (resp.json()) as PokemonInfo;
const imageSrcReq: string = data.sprites.other?.['official-artwork'].front_default ?? '';

---

<div class='rounded-lg border flex flex-col items-center justify-center'>
  <img 
    src={imageSrcReq} 
    alt={name} 
  />
  <!-- <img 
    src={imageSrc} 
    alt={name} 
  /> -->
  <span>{name}</span>
</div>